{% extends 'admin/base.html' %}

{% block content %}
<div class="container mt-4">
    <h1>Manage Content</h1>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <div class="row mt-4">
        <div class="col-md-12 mb-4">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title">Quizzes</h3>
                </div>
                <div class="card-body">
                    {% if quizzes %}
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Unit</th>
                                        <th>Question</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for quiz in quizzes %}
                                    <tr>
                                        <td>{{ quiz.id }}</td>
                                        <td>{{ quiz.unit_id }}</td>
                                        <td>{{ quiz.question }}</td>
                                        <td>
                                            <a href="{{ url_for('admin_view_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-info">View</a>
                                            <a href="{{ url_for('admin_edit_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-warning">Edit</a>
                                            <a href="{{ url_for('admin_delete_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-danger" 
                                               onclick="return confirm('Are you sure you want to delete this quiz question?')">Delete</a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>No quizzes found.</p>
                    {% endif %}
                    <a href="{{ url_for('admin_add_quiz') }}" class="btn btn-primary">Add New Quiz</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-12 mb-4">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h3 class="card-title">Materials</h3>
                </div>
                <div class="card-body">
                    {% if materials %}
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Unit</th>
                                        <th>Title</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for material in materials %}
                                    <tr>
                                        <td>{{ material.id }}</td>
                                        <td>{{ material.unit_id }}</td>
                                        <td>{{ material.title }}</td>
                                        <td>
                                            <a href="{{ url_for('admin_view_material', material_id=material.id) }}" class="btn btn-sm btn-info">View</a>
                                            <a href="{{ url_for('admin_edit_material', material_id=material.id) }}" class="btn btn-sm btn-warning">Edit</a>
                                            <a href="{{ url_for('admin_delete_material', material_id=material.id) }}" class="btn btn-sm btn-danger"
                                               onclick="return confirm('Are you sure you want to delete this material?')">Delete</a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>No materials found.</p>
                    {% endif %}
                    <a href="{{ url_for('admin_add_material') }}" class="btn btn-success">Add New Material</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-12 mb-4">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h3 class="card-title">Videos</h3>
                </div>
                <div class="card-body">
                    {% if videos %}
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Unit</th>
                                        <th>Title</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for video in videos %}
                                    <tr>
                                        <td>{{ video.id }}</td>
                                        <td>{{ video.unit_id }}</td>
                                        <td>{{ video.title }}</td>
                                        <td>
                                            <a href="{{ url_for('admin_view_video', video_id=video.id) }}" class="btn btn-sm btn-info">View</a>
                                            <a href="{{ url_for('admin_edit_video', video_id=video.id) }}" class="btn btn-sm btn-warning">Edit</a>
                                            <a href="{{ url_for('admin_delete_video', video_id=video.id) }}" class="btn btn-sm btn-danger"
                                               onclick="return confirm('Are you sure you want to delete this video?')">Delete</a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>No videos found.</p>
                    {% endif %}
                    <a href="{{ url_for('admin_add_video') }}" class="btn btn-info">Add New Video</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-12 mb-4">
            <div class="card">
                <div class="card-header bg-warning">
                    <h3 class="card-title">Projects</h3>
                </div>
                <div class="card-body">
                    {% if projects %}
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Unit</th>
                                        <th>Title</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for project in projects %}
                                    <tr>
                                        <td>{{ project.id }}</td>
                                        <td>{{ project.unit_id }}</td>
                                        <td>{{ project.title }}</td>
                                        <td>
                                            <a href="{{ url_for('admin_view_project', project_id=project.id) }}" class="btn btn-sm btn-info">View</a>
                                            <a href="{{ url_for('admin_edit_project', project_id=project.id) }}" class="btn btn-sm btn-warning">Edit</a>
                                            <a href="{{ url_for('admin_delete_project', project_id=project.id) }}" class="btn btn-sm btn-danger"
                                               onclick="return confirm('Are you sure you want to delete this project?')">Delete</a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>No projects found.</p>
                    {% endif %}
                    <a href="{{ url_for('admin_add_project') }}" class="btn btn-warning">Add New Project</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-12 mb-4">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h3 class="card-title">AI Vocabulary Words</h3>
                </div>
                <div class="card-body">
                    {% if words %}
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Unit</th>
                                        <th>Section</th>
                                        <th>Word</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for word in words %}
                                    <tr>
                                        <td>{{ word.id }}</td>
                                        <td>{{ word.unit_id }}</td>
                                        <td>{{ word.section }}</td>
                                        <td>{{ word.word }}</td>
                                        <td>
                                            <a href="{{ url_for('admin_view_word', word_id=word.id) }}" class="btn btn-sm btn-info">View</a>
                                            <a href="{{ url_for('admin_edit_word', word_id=word.id) }}" class="btn btn-sm btn-warning">Edit</a>
                                            <a href="{{ url_for('admin_delete_word', word_id=word.id) }}" class="btn btn-sm btn-danger"
                                               onclick="return confirm('Are you sure you want to delete this word?')">Delete</a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>No words found.</p>
                    {% endif %}
                    <a href="{{ url_for('admin_add_word') }}" class="btn btn-dark">Add New Word</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mb-4">
        <div class="col-md-12">
            <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
        </div>
    </div>
</div>
{% endblock %}
